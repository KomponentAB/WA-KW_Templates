{"version":3,"file":"src-winterevent-main-e8f9b9d8.js","sources":["../../src/santa.ts","../../src/winterevent-main.ts"],"sourcesContent":["const santaMessages: string[] = [\n    \"Oh, you found the limited-edition whiskey for Uncle Bob! This will surely make the holidays... blurry.\",\n    \"Great job finding the karaoke machine! Aunt Susan's neighbors are going to *love* you for this.\",\n    \"Ah, the drum set for little Timmy! He'll be thrilled, but his parents might need earplugs. Or therapy.\",\n    \"You found the scented candles! Now Grandma can make her house smell like 37 types of lavender. Delightful!\",\n    \"Oh look, the VR headset for Dad! He might come back to reality around Easter.\",\n    \"Nice work finding the skateboard! Let’s hope Cousin Mike remembers he’s 42 now.\",\n    \"The box of chocolates! Mom’s secret stash of 'self-care' is back on track.\",\n    \"Ah, the pogo stick for Lucy! The floors might not survive, but she will have a blast!\",\n    \"You found the designer purse! Aunt Carol will look classy while she complains about her back pain.\",\n    \"The electric guitar for Alex! Time for some rock and roll... and some noise complaints.\",\n    \"You got the espresso machine! Let's prepare for sleepless nights and jittery mornings.\",\n    \"Perfect! The book of dad jokes. Prepare for the groans of an entire household.\",\n    \"Ah, the DIY craft set for your niece! Her parents are going to love the glitter... *everywhere*.\",\n    \"Great find! A gift card for a spa day. Too bad it doesn’t come with free babysitting.\",\n    \"You found the blender! Now Uncle Ted can make margaritas no one asked for.\",\n    \"The socks with wild patterns! Because nothing says 'fun' like hidden chaos in your shoes.\",\n    \"Oh look, a board game! Cue the family bonding and inevitable passive-aggressive arguments.\",\n    \"A fancy new watch for Grandpa! He still won't know how to set it, though.\",\n    \"Nice work! The wine set for Aunt Marie. Holiday survival kit: complete.\",\n    \"Ah, the vintage record player! Now Dad can lecture everyone about 'real music.'\",\n    \"You found the roller skates! Let’s hope Cousin Jenna’s knees are still insured.\",\n    \"The yoga mat for Aunt Linda! She'll meditate, stretch, and then complain about her hips.\",\n    \"A plush robe for Mom! Now she can *officially* lounge in style while ignoring everyone.\",\n    \"Oh, a sci-fi novel for Jeff! Prepare for hours of plot recaps you didn’t ask for.\",\n    \"The remote-controlled car! Now Dad has something else to crash into the furniture.\",\n    \"Great job! You found the jigsaw puzzle. Family time or family feud? Let’s find out!\",\n    \"Ah, the perfume set for Aunt Patty! She’ll love it, and so will everyone within a 10-foot radius.\",\n    \"The novelty mug! Because Dad really needed a cup that says, 'World's Okayest Dad.'\",\n    \"You found the fitness tracker! Let’s see how long until it's 'accidentally' left in a drawer.\",\n    \"The cookbook! Time for some experimental dishes... and a backup pizza delivery plan.\",\n    \"You found the snow globe! Now Aunt Betty can shake a winter wonderland without leaving the couch.\",\n    \"Ah, the cocktail shaker set! Uncle Joe’s about to rediscover the 'art' of mixing drinks—and disasters.\",\n    \"The hot sauce gift box! Someone’s taste buds are about to file for early retirement.\",\n    \"A set of bath bombs! Now your sister can feel like she’s relaxing in a fizzy rainbow... until the kids bang on the door.\",\n    \"You found the beard grooming kit! Time to turn Cousin Steve’s 'wild woodsman' look into 'confused hipster.'\",\n    \"Ah, the Bluetooth speaker! Get ready for holiday classics with a side of questionable volume control.\",\n    \"The yoga DVD set! Because nothing says relaxation like falling over during downward dog.\",\n    \"Oh, the retro video game console! Dad's about to show the kids how he 'used to dominate'... 30 years ago.\",\n    \"You found the astronomy kit! Now everyone gets to freeze outside while pretending to know constellations.\",\n    \"The pet sweater! Your cat's going to love you... or plot revenge in style.\",\n    \"Nice work! The personalized calendar. Grandma can now schedule *everyone’s* lives.\",\n    \"Ah, the noise-canceling headphones! Perfect for surviving family gatherings without starting a feud.\",\n    \"You found the fitness DVD! Cousin Mike will start tomorrow... or maybe next year.\",\n    \"The inflatable hot tub! Because what’s better than a lukewarm pool in the middle of winter?\",\n    \"Ah, the fancy teapot! Now Aunt Jane can pretend she’s hosting a royal tea party. Pinkies up!\",\n    \"The scented hand soap set! Because who doesn't need a bathroom that smells like 'Ocean Breeze with Vanilla Twilight'?\",\n    \"A magic kit for Billy! Let’s hope he learns to make his messes disappear.\",\n    \"You found the calendar full of motivational quotes! Perfect for making everyone feel vaguely guilty.\",\n    \"The electric massager! Because sometimes the holidays are a real pain in the neck.\",\n    \"The heated blanket! Now Grandma can roast herself like a marshmallow all winter long.\",\n    \"You got the fancy wine opener! Because struggling with corkscrews is *so* last year.\",\n    \"Ah, the adult coloring book! Stress relief meets the frustration of staying inside the lines.\",\n    \"You found the fishing gear! Dad will finally have another excuse to avoid chores.\",\n    \"The candle-making kit! Now your sister can create fire hazards in *any* scent.\",\n    \"The new drone! Prepare for 10 minutes of fun and 2 hours of finding where it crashed.\",\n    \"Oh, the DIY home-brew kit! Get ready for beer that *might* be drinkable... or not.\",\n    \"You found the gourmet popcorn set! Perfect for eating during movie night... or just because.\",\n    \"The karaoke microphone! Aunt Linda's going to belt out tunes like she's at Madison Square Garden.\",\n    \"Ah, the leather wallet! A classy way for Uncle Tom to carry around *just* coupons.\",\n    \"The luxury bathrobe! Mom's about to level up her lounging game to pro status.\",\n    \"You found the mystery puzzle! Grandma will enjoy piecing it together... until the dog eats a piece.\",\n    \"The karaoke microphone for Aunt Janet! Her *Broadway debut* is happening in the living room tonight.\",\n    \"The superhero cape for Timmy! He'll save the day... or at least attempt to jump off the couch.\",\n    \"Ah, the prank gift box! Dad's about to give a present that confuses everyone, including himself.\",\n    \"The glow-in-the-dark puzzle for Cousin Mark! Because who needs lights when frustration glows?\",\n    \"You found the digital photo frame! Perfect for Mom to display *way too many* vacation photos.\",\n    \"The retro record player for Uncle Dave! He'll tell everyone vinyl sounds better, and everyone will pretend to agree.\"\n  ];\n\n  export { santaMessages };","/// <reference types=\"@workadventure/iframe-api-typings\" />\n\nimport { bootstrapExtra, Properties } from \"@workadventure/scripting-api-extra\";\nimport { Subscription } from \"rxjs\";\nimport { checkPlayerMaterial, mySound, playRandomSound } from \"./footstep\";\nimport { santaMessages } from \"./santa\";\nimport {\n  levelUp,\n  getLeaderboard,\n  getLeaderboardURL,\n} from \"@workadventure/quests\";\nimport { setupFireworks } from \"./fireworks\";\nsetupFireworks();\n\nconsole.log(\"Script started successfully\");\n\n// Waiting for the API to be ready\nWA.onInit()\n  .then(() => {\n    console.log(\"Scripting API ready\");\n    console.log(\"Player tags: \", WA.player.tags);\n    console.log(\"Properties loaded: \", Properties);\n    console.log(\"Quests loaded: \", levelUp);\n    console.log(\"Leaderboard loaded: \", getLeaderboard);\n\n    // The line below bootstraps the Scripting API Extra library that adds a number of advanced properties/features to WorkAdventure\n    bootstrapExtra()\n      .then(() => {\n        console.log(\"Scripting API Extra ready\");\n      })\n      .catch((e) => console.error(e));\n    WA.onInit()\n      .then(() => {\n        WA.room.area.onEnter(\"inside\").subscribe(() => {\n          WA.room.hideLayer(\"hide/inside\");\n          WA.room.showLayer(\"hide/outside\");\n        });\n\n        WA.room.area.onEnter(\"outside\").subscribe(() => {\n          WA.room.hideLayer(\"hide/outside\");\n          WA.room.showLayer(\"hide/inside\");\n        });\n      })\n      .catch((e) => console.error(e));\n  })\n  .catch((e) => console.error(e));\n\nWA.onInit().then(() => {\n  const startIceSkating = () => {\n    let isMoving = false;\n    return WA.player.onPlayerMove(async ({ moving }) => {\n      if (!moving || isMoving) return;\n      isMoving = true;\n      WA.controls.disablePlayerControls();\n\n      // Define the ice area coordinate ranges\n      const minX = 1200;\n      const maxX = 1800;\n      const minY = 800;\n      const maxY = 1200;\n\n      // Generate random coordinates within the ice area\n      const randomX = Math.random() * (maxX - minX) + minX;\n      const randomY = Math.random() * (maxY - minY) + minY;\n\n      console.log(`Moving to random position: x=${randomX}, y=${randomY}`);\n\n      WA.player.moveTo(randomX, randomY, 30).then(({}) => {\n        WA.controls.restorePlayerControls();\n        isMoving = false;\n      });\n    });\n  };\n\n  WA.onInit()\n    .then(() => {\n      let skatingSub: Subscription;\n\n      WA.room.area.onEnter(\"ice\").subscribe(() => {\n        console.log(\"enter\");\n        skatingSub = startIceSkating();\n      });\n\n      WA.room.area.onLeave(\"ice\").subscribe(() => {\n        console.log(\"leave\");\n        skatingSub.unsubscribe();\n      });\n    })\n    .catch((e) => console.error(e));\n});\n\nWA.event.on(\"pong\").subscribe((value: any) => {\n  const placedGifts = value.data;\n  console.log(\"Received placed gifts:\", placedGifts);\n  WA.room.setTiles(placedGifts);\n  WA.state.saveVariable(\"placedGifts\", placedGifts);\n});\n\nWA.event.on(\"foundGift\").subscribe(async (value: any) => {\n  const { x, y } = value.data;\n  console.log(`Gift found at (${x}, ${y})`);\n  WA.room.setTiles([{ x, y, tile: null, layer: \"gifts\" }]);\n\n  const placedGifts = (await WA.state.loadVariable(\"placedGifts\")) as any[];\n  const updatedGifts = placedGifts.filter(\n    (gift) => gift.x !== x || gift.y !== y\n  );\n  WA.state.saveVariable(\"placedGifts\", updatedGifts);\n});\n\nWA.room.onEnterLayer(\"gifts\").subscribe(async () => {\n  console.log(\"Player entered gifts layer\");\n  const { x, y } = await WA.player.getPosition();\n  console.log(\"Player position in pixels:\", { x, y });\n  const tileX = Math.floor(x / 32);\n  const tileY = Math.floor(y / 32);\n\n  const placedGifts = (await WA.state.loadVariable(\"placedGifts\")) as any[];\n  const giftExists = placedGifts.some(\n    (gift) => gift.x === tileX && gift.y === tileY\n  );\n\n  if (!giftExists) {\n    console.log(\"No gift at this position\");\n    return;\n  }\n\n  const randomMessageIndex = Math.floor(Math.random() * santaMessages.length);\n  const randomMessage = santaMessages.splice(randomMessageIndex, 1)[0];\n  const randomSoundIndex = Math.floor(Math.random() * 4) + 1;\n  const mySound = WA.sound.loadSound(`./santa-sigh-${randomSoundIndex}.mp3`);\n  const config = {\n    volume: 0.3,\n    loop: false,\n    rate: 1,\n    detune: 1,\n    delay: 0,\n    seek: 0,\n    mute: false,\n  };\n  mySound.play(config);\n  WA.event.broadcast(\"foundGift\", { x: tileX, y: tileY });\n  WA.chat.sendChatMessage(randomMessage, \"Santa\");\n  await levelUp(\"GIFTS\", 1);\n});\n\nWA.onInit().then(async () => {\n  const placedGifts = (await WA.state.loadVariable(\"placedGifts\")) as any[];\n  if (placedGifts && placedGifts.length > 0) {\n    WA.room.setTiles(placedGifts);\n  }\n});\n\nWA.onInit().then(async () => {\n  WA.player.onPlayerMove(async ({ x, y, moving }) => {\n    const material = await checkPlayerMaterial({ x, y });\n    console.log(material);\n\n    if (!material) {\n      return mySound?.stop();\n    }\n\n    if (!moving && !material) {\n      return mySound?.stop();\n    } else {\n      mySound?.stop();\n      return playRandomSound(material);\n    }\n  });\n});\n\nWA.onInit().then(() => {\n  if (WA.player.tags.includes(\"Santa\")) {\n    WA.event.on(\"ping\").subscribe(async (value: any) => {\n      if (value.data === \"start\") {\n        console.log(\"Starting gift population...\");\n        const placedGifts = await populateGifts();\n        WA.event.broadcast(\"pong\", placedGifts);\n      }\n    });\n    WA.event.broadcast(\"ping\", \"start\");\n    async function populateGifts() {\n      const map = await WA.room.getTiledMap();\n      console.log(\"Room Height: \", map.height);\n      console.log(\"Room Width: \", map.width);\n\n      const mapProperties = new Properties(map.properties);\n      const collisionLayerName =\n        mapProperties.getString(\"collisionLayerName\") || \"collisions\";\n      const collisionLayer = map.layers.find(\n        (layer) => layer.name === collisionLayerName\n      );\n\n      if (!collisionLayer || collisionLayer.type !== \"tilelayer\") {\n        console.error(\"Collision layer not found or is not a tile layer\");\n        return [];\n      }\n\n      const tiles = collisionLayer.data;\n      const width = collisionLayer.width;\n      const height = collisionLayer.height;\n\n      const potentialGiftTiles = [];\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          const tileIndex = y * width + x;\n          if (tiles[tileIndex] === 0) {\n            // Assuming 0 means no collision\n            potentialGiftTiles.push({ x, y });\n          }\n        }\n      }\n\n      const giftOptions = 8;\n      const giftsToPlace = 100; // Number of gifts to place\n      const placedGifts: {\n        x: number;\n        y: number;\n        tile: string;\n        layer: string;\n      }[] = [];\n\n      for (let i = 0; i < giftsToPlace; i++) {\n        const randomIndex = Math.floor(\n          Math.random() * potentialGiftTiles.length\n        );\n        const { x, y } = potentialGiftTiles.splice(randomIndex, 1)[0];\n        const giftTile = `gift_${Math.floor(Math.random() * giftOptions) + 1}`;\n        placedGifts.push({ x, y, tile: giftTile, layer: \"gifts\" });\n      }\n\n      console.log(\"Gifts placed:\", placedGifts);\n      return placedGifts;\n    }\n  }\n});\n\nWA.onInit().then(() => {\n  WA.room.area.onEnter(\"santasCrashSite\").subscribe(() => {\n    let url;\n    if (WA.player.tags.includes(\"member\")) {\n      const leaderboardURL = getLeaderboardURL(\"GIFTS\");\n      console.log(\"Leaderboard URL: \", leaderboardURL.toString());\n      url = leaderboardURL.toString();\n    } else {\n      url = \"https://komponent.works\";\n    }\n    // Open a modal with the URL\n    WA.ui.modal.openModal(\n      {\n        title: \"GiftsQuest Leaderboard\",\n        src: url,\n        position: \"left\",\n        allowApi: false,\n        allow: \"\",\n        closable: true,\n        allowFullScreen: false,\n      },\n      () => {}\n    );\n  });\n});\n\nWA.onInit().then(async () => {\n  if (WA.player.tags.includes(\"Santa\")) {\n    WA.event.broadcast(\"ping\", \"start\");\n    const initialPosition = await WA.player.getPosition();\n    const { x: startX, y: startY } = initialPosition;\n\n    const moveSantaRandomly = () => {\n      const minX = Math.max(startX - 32, 0);\n      const maxX = startX + 32;\n      const minY = Math.max(startY - 32, 0);\n      const maxY = startY + 32;\n\n      const randomX = Math.random() * (maxX - minX) + minX;\n      const randomY = Math.random() * (maxY - minY) + minY;\n\n      console.log(\n        `Santa moving to random position: x=${randomX}, y=${randomY}`\n      );\n      WA.player.moveTo(randomX, randomY, 1);\n    };\n\n    setInterval(moveSantaRandomly, Math.random() * 5000 + 2000); // Random interval between 2 to 7 seconds\n  }\n});\nexport {};\n"],"names":["santaMessages","setupFireworks","Properties","levelUp","getLeaderboard","bootstrapExtra","e","startIceSkating","isMoving","moving","minX","maxX","minY","maxY","randomX","randomY","skatingSub","value","placedGifts","x","y","updatedGifts","gift","tileX","tileY","randomMessageIndex","randomMessage","randomSoundIndex","mySound","config","material","checkPlayerMaterial","_b","_c","playRandomSound","_a","populateGifts","map","collisionLayerName","collisionLayer","layer","tiles","width","height","potentialGiftTiles","tileIndex","giftOptions","giftsToPlace","i","randomIndex","giftTile","url","leaderboardURL","getLeaderboardURL","initialPosition","startX","startY"],"mappings":"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"}