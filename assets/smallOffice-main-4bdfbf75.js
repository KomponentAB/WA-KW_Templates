import{b}from"./init-1e608982.js";import{c as u,m as n,p}from"./footstep-6c2032b4.js";console.log("Script started successfully");let t;WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),WA.room.area.onEnter("clock").subscribe(()=>{const o=new Date,a=o.getHours()+":"+o.getMinutes();t=WA.ui.openPopup("clockPopup","It's "+a,[])}),WA.room.area.onLeave("clock").subscribe(g),b().then(()=>{console.log("Scripting API Extra ready")}).catch(o=>console.error(o))}).catch(o=>console.error(o));function g(){t!==void 0&&(t.close(),t=void 0)}async function s(){var o=WA.state.textVariable;console.log("Text is configured as "+o);var a=WA.state.colorVariable;console.log("Color is configured as "+a);var r=`https://iw6tkif7th7yp5ax2ufzkl3kce0bcuys.lambda-url.us-east-1.on.aws/?text=${encodeURIComponent(o)}&imageType=caption&width=88&height=24&color=${encodeURIComponent(a)}`;console.log("New img-url of title is "+r);const e=await WA.room.website.get("titleScreen");e.url=r,e.visible=!0,console.log(`Title has been changed to ${e.url}`)}WA.onInit().then(()=>{s()});WA.state.onVariableChange("textVariable").subscribe(()=>{console.log("Text variable changed"),s()});WA.state.onVariableChange("colorVariable").subscribe(()=>{console.log("Color variable changed"),s()});WA.onInit().then(()=>{WA.room.area.onEnter("hideRoofZone").subscribe(()=>{WA.room.hideLayer("above-roof/above-roof1"),WA.room.hideLayer("above-roof/above-roof2"),WA.room.hideLayer("above-roof/above-roof3")}),WA.room.area.onLeave("hideRoofZone").subscribe(()=>{WA.room.showLayer("above-roof/above-roof1"),WA.room.showLayer("above-roof/above-roof2"),WA.room.showLayer("above-roof/above-roof3")})});WA.onInit().then(async()=>{WA.player.onPlayerMove(async({x:o,y:a,moving:r})=>{var l,i,c;const e=await u({x:o,y:a});return console.log(e),e?!r&&!e?(i=n)==null?void 0:i.stop():((c=n)==null||c.stop(),p(e)):(l=n)==null?void 0:l.stop()})});
//# sourceMappingURL=smallOffice-main-4bdfbf75.js.map
