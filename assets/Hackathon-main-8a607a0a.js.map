{"version":3,"file":"Hackathon-main-8a607a0a.js","sources":["../../src/Hackathon-main.ts"],"sourcesContent":["///<reference types=\"@workadventure/iframe-api-typings\" />\n\nimport { bootstrapExtra } from \"@workadventure/scripting-api-extra\";\nimport { levelUp } from \"@workadventure/quests\";\n\nWA.onInit()\n  .then(() => {\n    console.log(\"Scripting API ready\");\n    console.log(\"Player tags: \", WA.player.tags);\n\n    // The line below bootstraps the Scripting API Extra library that adds a number of advanced properties/features to WorkAdventure\n    bootstrapExtra()\n      .then(() => {\n        console.log(\"Scripting API Extra ready\");\n      })\n      .catch((e) => console.error(e));\n  })\n  .catch((e) => console.error(e));\n\nconsole.log(\"Script started successfully\");\n\nWA.onInit().then(async () => {\n  console.log(\"Initializing scavenger hunt logic\");\n  const areas = await WA.mapEditor.area.list();\n  const scavengerAreas = areas.filter((area) =>\n    area.name.startsWith(\"SCAVENGER_\"),\n  );\n  console.log(\"Found scavenger areas:\", scavengerAreas);\n\n  for (const area of scavengerAreas) {\n    const [_, questName, objectName, exp] = area.name.split(\"_\");\n    console.log(`Setting up scavenger area: ${area.name}`, {\n      questName,\n      objectName,\n      exp,\n    });\n\n    WA.mapEditor.area.onEnter(area.name).subscribe(async () => {\n      console.log(`Player entered scavenger area: ${area.name}`);\n      const playerStateKey = `collected_${area.name}`;\n      const alreadyCollected = await WA.player.state[playerStateKey];\n      console.log(\n        `Checked collection status for ${playerStateKey}: ${alreadyCollected}`,\n      );\n\n      const translations = {\n        \"en-US\": `You leveled up in Quest \"${questName}\" by interacting with \"${objectName}\" and gained ${exp} EXP!`,\n        \"de-DE\": `Du hast in der Quest \"${questName}\" aufgelevelt, indem du mit \"${objectName}\" interagiert hast, und ${exp} EXP gewonnen!`,\n        \"fr-FR\": `Vous avez mont√© de niveau dans la qu√™te \"${questName}\" en interagissant avec \"${objectName}\" et avez gagn√© ${exp} EXP!`,\n        \"it-IT\": `Hai salito di livello nella Quest \"${questName}\" interagendo con \"${objectName}\" e hai guadagnato ${exp} EXP!`,\n        \"es-ES\": `¬°Subiste de nivel en la misi√≥n \"${questName}\" al interactuar con \"${objectName}\" y ganaste ${exp} EXP!`,\n        \"pt-BR\": `Voc√™ subiu de n√≠vel na Quest \"${questName}\" ao interagir com \"${objectName}\" e ganhou ${exp} EXP!`,\n      };\n\n      const alreadyCollectedTranslations = {\n        \"en-US\": `You have already collected the item \"${objectName}\" in Quest \"${questName}\".`,\n        \"de-DE\": `Du hast den Gegenstand \"${objectName}\" in der Quest \"${questName}\" bereits eingesammelt.`,\n        \"fr-FR\": `Vous avez d√©j√† collect√© l'objet \"${objectName}\" dans la qu√™te \"${questName}\".`,\n        \"it-IT\": `Hai gi√† raccolto l'oggetto \"${objectName}\" nella Quest \"${questName}\".`,\n        \"es-ES\": `Ya has recolectado el objeto \"${objectName}\" en la misi√≥n \"${questName}\".`,\n        \"pt-BR\": `Voc√™ j√° coletou o item \"${objectName}\" na Quest \"${questName}\".`,\n      };\n\n      const userLang = WA.player.language;\n\n      if (!alreadyCollected) {\n        const message =\n          translations[userLang as keyof typeof translations] ||\n          translations[\"en-US\"];\n        console.log(`Sending level up message: ${message}`);\n        WA.chat.sendChatMessage(message, \"system\");\n        levelUp(questName, Number(exp));\n        WA.player.state[playerStateKey] = \"collected\";\n      } else {\n        const message =\n          alreadyCollectedTranslations[\n            userLang as keyof typeof alreadyCollectedTranslations\n          ] || alreadyCollectedTranslations[\"en-US\"];\n        console.log(`Item already collected: ${message}`);\n        WA.chat.sendChatMessage(message, \"system\");\n      }\n    });\n  }\n});\n\nasync function updateTitle(variableName: string) {\n  console.log(`updateTitle called with variableName: ${variableName}`);\n  var text: string = WA.state[variableName] as string;\n  console.log(`Text for ${variableName} is configured as ` + text);\n  var color = variableName.split(\"-\")[0];\n  var newTitle = `https://iw6tkif7th7yp5ax2ufzkl3kce0bcuys.lambda-url.us-east-1.on.aws/?text=${encodeURIComponent(text)}&imageType=caption&width=78&height=50&color=${color}`;\n  console.log(\"New img-url of title is \" + newTitle);\n  const website = await WA.room.website.get(\n    variableName.replace(\"text\", \"display\"),\n  );\n  website.url = newTitle;\n  website.visible = true;\n  console.log(`Title for ${variableName} has been changed to ${website.url}`);\n}\n\nWA.onInit().then(() => {\n  console.log(\"Initializing title updates\");\n  updateTitle(\"purple-text\");\n  updateTitle(\"blue-text\");\n  updateTitle(\"red-text\");\n  updateTitle(\"green-text\");\n  updateTitle(\"yellow-text\");\n  updateTitle(\"orange-text\");\n  updateTitle(\"black-text\");\n});\n\n// Listen for changes to each text variable\n[\n  \"purple-text\",\n  \"blue-text\",\n  \"red-text\",\n  \"green-text\",\n  \"yellow-text\",\n  \"orange-text\",\n  \"black-text\",\n].forEach((variableName) => {\n  WA.state.onVariableChange(variableName).subscribe(() => {\n    console.log(`${variableName} variable changed`);\n    updateTitle(variableName);\n  });\n});\n\nconst groupIcons = {\n  Yellow:\n    'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"%23FFD43B\" d=\"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>',\n  Orange:\n    'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"%23ff6600\" d=\"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>',\n  Green:\n    'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"%2339fa14\" d=\"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>',\n  Blue: 'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"%230078ff\" d=\"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>',\n  Purple:\n    'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"%23ff1493\" d=\"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>',\n  Red: 'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"%23ff1a1a\" d=\"M416 320h-96c-17.6 0-32-14.4-32-32s14.4-32 32-32h96s96-107 96-160-43-96-96-96-96 43-96 96c0 25.5 22.2 63.4 45.3 96H320c-52.9 0-96 43.1-96 96s43.1 96 96 96h96c17.6 0 32 14.4 32 32s-14.4 32-32 32H185.5c-16 24.8-33.8 47.7-47.3 64H416c52.9 0 96-43.1 96-96s-43.1-96-96-96zm0-256c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM96 256c-53 0-96 43-96 96s96 160 96 160 96-107 96-160-43-96-96-96zm0 128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z\"/></svg>',\n};\n\nconst groupCoordinates = {\n  Yellow: { x: 1260, y: 1370 },\n  Orange: { x: 1260, y: 1800 },\n  Green: { x: 1260, y: 900 },\n  Blue: { x: 500, y: 1330 },\n  Purple: { x: 500, y: 1760 },\n  Red: { x: 500, y: 900 },\n  Auditorium: { x: 600, y: 1550 },\n};\n\nfunction addGroupButton(groupName: keyof typeof groupIcons) {\n  console.log(`addGroupButton called with groupName: ${groupName}`);\n  setTimeout(() => {\n    WA.onInit().then(() => {\n      console.log(`Setting up group button for ${groupName}`);\n      const codeVariable = `code${groupName}`;\n      const roomCode = WA.state[codeVariable];\n      console.log(`Room code for ${groupName}: ${roomCode}`);\n      const chatTranslations = {\n        \"en-US\": `The code to the ${groupName}-Room is: ${roomCode}.`,\n        \"fr-FR\": `Le code de la salle ${groupName} est : ${roomCode}.`,\n        \"it-IT\": `Il codice per la stanza ${groupName} √®: ${roomCode}.`,\n        \"pt-BR\": `O c√≥digo para a sala ${groupName} √©: ${roomCode}.`,\n        \"es-ES\": `El c√≥digo para la sala ${groupName} es: ${roomCode}.`,\n        \"zh-CN\": `${groupName}ÊàøÈó¥ÁöÑ‰ª£Á†ÅÊòØÔºö${roomCode}„ÄÇ`,\n        \"ar-SA\": `ÿ±ŸÖÿ≤ ÿßŸÑÿ∫ÿ±ŸÅÿ© ${groupName} ŸáŸà: ${roomCode}.`,\n        \"de-DE\": `Der Code f√ºr den ${groupName}-Raum lautet: ${roomCode}.`,\n      };\n      const userLang = WA.player.language;\n      const chatMessage =\n        chatTranslations[userLang as keyof typeof chatTranslations] ||\n        chatTranslations[\"en-US\"];\n      console.log(`Sending chat message in language: ${userLang}`);\n      WA.chat.sendChatMessage(chatMessage, \"system\");\n    });\n  }, 2000);\n\n  WA.ui.actionBar.addButton({\n    id: \"roomNavigate-btn\",\n    // type: \"action\",\n    // imageSrc: groupIcons[groupName],\n    label: `[${groupName} Room]`,\n    toolTip: \"Go to your Breakout-Room.\",\n    callback: () => {\n      console.log(`Room navigation button clicked for ${groupName}`);\n      removeGroupButton();\n      const coordinates = groupCoordinates[groupName];\n      console.log(`Moving to coordinates:`, coordinates);\n\n      WA.player.moveTo(coordinates.x, coordinates.y, 10).then((result) => {\n        if (!result.cancelled) {\n          console.log(`Successfully moved to ${groupName}`);\n          const codeVariable = `code${groupName}`;\n          const roomCode = WA.state[codeVariable];\n\n          WA.ui.banner.openBanner({\n            id: \"room-code\",\n            text: `üîê üö™ The Code to the ${groupName}-Room is: ${roomCode}.`,\n            bgColor: `#25222d`,\n            textColor: \"#ffffff\",\n            closable: true,\n            timeToClose: 100000,\n          });\n        } else {\n          console.log(`Movement cancelled for ${groupName}`);\n        }\n      });\n    },\n  });\n}\n\nfunction removeGroupButton() {\n  console.log(\"removeGroupButton called\");\n  WA.onInit().then(() => {\n    console.log(\"Removing room navigation button\");\n    WA.ui.actionBar.removeButton(\"roomNavigate-btn\");\n  });\n}\n\nWA.onInit().then(() => {\n  console.log(\"Setting up ping/pong event listener\");\n  WA.event.on(\"ping\").subscribe((value) => {\n    console.log(\"Received ping event:\", value);\n    if (value.data === \"start\") {\n      const playerId = WA.player.uuid;\n      console.log(`Ping start - Player ID: ${playerId}`);\n      if (playerId) {\n        WA.event.broadcast(\"pong\", playerId);\n      } else {\n        console.error(\"Player UUID is undefined\");\n      }\n    } else if (value.data === \"stop\") {\n      console.log(\"Ping stop - removing outline color\");\n      WA.player.removeOutlineColor();\n    }\n  });\n});\n\nWA.onInit().then(() => {\n  console.log(\"Setting up player-specific event listener\");\n  const playerId = WA.player.uuid;\n  console.log(`Player UUID: ${playerId}`);\n  if (playerId) {\n    WA.event.on(playerId).subscribe((value) => {\n      console.log(`Received event for player UUID ${playerId}:`, value);\n      const groupName = value.data as string; // \"Yellow\", \"Orange\", \"Green\", \"Red\", \"Blue\", or \"Purple\"\n      handleGroupAssignment(groupName);\n    });\n  } else {\n    console.error(\"Player UUID is undefined\");\n  }\n});\n\nfunction handleGroupAssignment(groupName: string) {\n  console.log(`handleGroupAssignment called with groupName: ${groupName}`);\n  WA.onInit().then(() => {\n    const groupColors: { [key: string]: { r: number; g: number; b: number } } =\n      {\n        Yellow: { r: 255, g: 255, b: 0 },\n        Orange: { r: 255, g: 102, b: 0 },\n        Green: { r: 57, g: 255, b: 20 },\n        Red: { r: 255, g: 26, b: 26 },\n        Blue: { r: 0, g: 120, b: 255 },\n        Purple: { r: 255, g: 20, b: 147 },\n      };\n\n    const color = groupColors[groupName];\n    console.log(`Color for ${groupName}:`, color);\n    if (color) {\n      WA.player.setOutlineColor(color.r, color.g, color.b);\n      console.log(`Set outline color for ${groupName}`);\n\n      const roomColorIcon = {\n        Yellow: \"üü®\",\n        Orange: \"üüß\",\n        Green: \"üü©\",\n        Blue: \"üü¶\",\n        Purple: \"üü™\",\n        Red: \"üü•\",\n      };\n      const roomName = `${\n        roomColorIcon[groupName as keyof typeof roomColorIcon]\n      } ${\n        WA.state[`${groupName}-text`] ||\n        `${groupName.charAt(0).toUpperCase() + groupName.slice(1)} Room`\n      }`;\n      console.log(`Room name: ${roomName}`);\n\n      const translations = {\n        \"en-US\": `You have been assigned to the ${roomName}.`,\n        \"fr-FR\": `Vous avez √©t√© assign√© √† la ${roomName}.`,\n        \"it-IT\": `Sei stato assegnato alla ${roomName}.`,\n        \"pt-BR\": `Voc√™ foi designado para a ${roomName}.`,\n        \"es-ES\": `Has sido asignado a la ${roomName}.`,\n        \"zh-CN\": `‰Ω†Â∑≤Ë¢´ÂàÜÈÖçÂà∞${roomName}„ÄÇ`,\n        \"ar-SA\": `ŸÑŸÇÿØ ÿ™ŸÖ ÿ™ÿπŸäŸäŸÜŸÉ ÿ•ŸÑŸâ ${roomName}.`,\n        \"de-DE\": `Sie wurden dem ${roomName} zugewiesen.`,\n      };\n\n      const userLang = WA.player.language;\n      const bannerText =\n        translations[userLang as keyof typeof translations] ||\n        translations[\"en-US\"];\n      console.log(`Opening banner in language: ${userLang}`);\n\n      WA.ui.banner.openBanner({\n        id: \"group-assignment\",\n        text: bannerText,\n        bgColor: `rgb(${color.r}, ${color.g}, ${color.b})`,\n        textColor: \"#000000\",\n        closable: true,\n        timeToClose: 10000,\n      });\n      addGroupButton(groupName as keyof typeof groupIcons);\n\n      const chatTranslations = {\n        \"en-US\": `You have been assigned to the ${roomName}. The fastest way to get there is by clicking on the colored button at the bottom of your screen.`,\n        \"fr-FR\": `Vous avez √©t√© assign√© au ${roomName}. Le moyen le plus rapide de vous y rendre est de cliquer sur le bouton color√© en bas de votre √©cran.`,\n        \"it-IT\": `Sei stato assegnato al ${roomName}. Il modo pi√π veloce per arrivarci √® cliccare sul pulsante colorato in fondo allo schermo.`,\n        \"pt-BR\": `Voc√™ foi designado para o ${roomName}. A maneira mais r√°pida de chegar l√° √© clicando no bot√£o colorido na parte inferior da sua tela.`,\n        \"es-ES\": `Has sido asignado al ${roomName}. La forma m√°s r√°pida de llegar es haciendo clic en el bot√≥n de color en la parte inferior de tu pantalla.`,\n        \"zh-CN\": `‰Ω†Â∑≤Ë¢´ÂàÜÈÖçÂà∞${roomName}„ÄÇÊúÄÂø´ÁöÑÊñπÊ≥ïÊòØÁÇπÂáªÂ±èÂπïÂ∫ïÈÉ®ÁöÑÂΩ©Ëâ≤ÊåâÈíÆ`,\n        \"ar-SA\": `ŸÑŸÇÿØ ÿ™ŸÖ ÿ™ÿπŸäŸäŸÜŸÉ ÿ•ŸÑŸâ ${roomName}.  ŸáŸÜÿßŸÉ ŸáŸä ÿßŸÑŸÜŸÇÿ± ÿπŸÑŸâ ÿßŸÑÿ≤ÿ± ÿßŸÑŸÖŸÑŸàŸÜ ŸÅŸä ÿ£ÿ≥ŸÅŸÑ ÿßŸÑÿ¥ÿßÿ¥ÿ©. ÿ±ŸÖÿ≤ ÿßŸÑÿ∫ÿ±ŸÅÿ© ŸáŸà`,\n        \"de-DE\": `Du wurdest dem ${roomName} zugewiesen. Der schnellste Weg dorthin ist, auf den farbigen Knopf unten auf deinem Bildschirm zu klicken.`,\n      };\n\n      const chatMessage =\n        chatTranslations[userLang as keyof typeof chatTranslations] ||\n        chatTranslations[\"en-US\"];\n      console.log(`Sending chat message for group assignment`);\n      WA.chat.sendChatMessage(chatMessage, \"system\");\n    } else {\n      console.warn(\"Unknown group name:\", groupName);\n    }\n  });\n}\n\nWA.onInit().then(() => {\n  console.log(\"Initializing grouping button logic\");\n  function addStartGroupingButton() {\n    console.log(\"addStartGroupingButton called\");\n    //const svgIcon1 =\n    // 'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path fill=\"%23ff0019\" d=\"M132.7 212.3 36.2 137.8A63.4 63.4 0 0 0 32 160a63.8 63.8 0 0 0 100.7 52.3zm40.4 62.3A63.8 63.8 0 0 0 128 256H64A64.1 64.1 0 0 0 0 320v32a32 32 0 0 0 32 32H97.9A146.6 146.6 0 0 1 173.1 274.6zM544 224a64 64 0 1 0 -64-64A64.1 64.1 0 0 0 544 224zM500.6 355.1a114.2 114.2 0 0 0 -84.5-65.3L361 247.2c41.5-16.3 71-55.9 71-103.2A111.9 111.9 0 0 0 320 32c-57.1 0-103.7 42.8-110.6 98.1L45.5 3.4A16 16 0 0 0 23 6.2L3.4 31.5A16 16 0 0 0 6.2 53.9L594.5 508.6A16 16 0 0 0 617 505.8l19.6-25.3a16 16 0 0 0 -2.8-22.5zM128 403.2V432a48 48 0 0 0 48 48H464a47.5 47.5 0 0 0 12.6-1.9L232 289.1C173.7 294.8 128 343.4 128 403.2zM576 256H512a63.8 63.8 0 0 0 -45.1 18.6A146.3 146.3 0 0 1 542 384h66a32 32 0 0 0 32-32V320A64.1 64.1 0 0 0 576 256z\"/></svg>';\n    WA.ui.actionBar.removeButton(\"startGrouping-btn\");\n    WA.ui.actionBar.addButton({\n      id: \"endGrouping-btn\",\n      // type: \"action\",\n      label: \"end group\",\n      // imageSrc: svgIcon1,\n      toolTip: \"End Breakout Grouping\",\n      callback: () => {\n        console.log(\"End grouping button clicked\");\n        WA.state.grouping = 0;\n        WA.ui.actionBar.removeButton(\"endGrouping-btn\");\n        addEndGroupingButton();\n        WA.event.broadcast(\"addGroupingButton\", \"pressed\");\n      },\n    });\n  }\n\n  function addEndGroupingButton() {\n    console.log(\"addEndGroupingButton called\");\n    // const svgIcon2 =\n    //   'data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path fill=\"%2363E6BE\" d=\"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z\"/></svg>';\n    WA.ui.actionBar.removeButton(\"endGrouping-btn\");\n    WA.ui.actionBar.addButton({\n      id: \"startGrouping-btn\",\n      label: \"start group\",\n      // type: \"action\",\n      //  imageSrc: svgIcon2,\n      toolTip: \"Start Breakout Grouping\",\n      callback: () => {\n        console.log(\"Start grouping button clicked\");\n        WA.state.grouping = 1;\n        WA.ui.actionBar.removeButton(\"startGrouping-btn\");\n        addStartGroupingButton();\n        WA.event.broadcast(\"endGroupingButton\", \"pressed\");\n      },\n    });\n  }\n\n  WA.event.on(\"addGroupingButton\").subscribe((value) => {\n    console.log(\"addGroupingButton event received:\", value);\n    if (\n      [\"admin\", \"editor\", \"moderator\", \"hackmod\"].some((tag) =>\n        WA.player.tags.includes(tag),\n      )\n    ) {\n      console.log(\"Player has required role\");\n      if (value.data === \"pressed\") {\n        console.log(\"Adding end grouping button\");\n        WA.ui.actionBar.removeButton(\"startGrouping-btn\");\n        addEndGroupingButton();\n      }\n    }\n  });\n\n  WA.event.on(\"endGroupingButton\").subscribe((value) => {\n    console.log(\"endGroupingButton event received:\", value);\n    if (\n      [\"admin\", \"editor\", \"moderator\", \"hackmod\"].some((tag) =>\n        WA.player.tags.includes(tag),\n      )\n    ) {\n      console.log(\"Player has required role\");\n      if (value.data === \"pressed\") {\n        console.log(\"Adding start grouping button\");\n        WA.ui.actionBar.removeButton(\"endGrouping-btn\");\n        addStartGroupingButton();\n      }\n    }\n  });\n  WA.onInit().then(() => {\n    console.log(\"Checking for admin user and showGroupingButton variable\");\n    if (WA.player.tags.includes(\"admin\")) {\n      console.log(\"Player is admin, setting up showGroupingButton listener\");\n      WA.state.onVariableChange(\"showGroupingButton\").subscribe({\n        next: () => {\n          console.log(\"showGroupingButton variable changed\");\n          const showGroupingButton = WA.state.showGroupingButton;\n          const groupingState = Number(WA.state.grouping);\n          console.log(\n            `showGroupingButton: ${showGroupingButton}, groupingState: ${groupingState}`,\n          );\n          if (showGroupingButton === \"show\") {\n            if (groupingState === 1) {\n              addStartGroupingButton();\n            } else if (groupingState === 0) {\n              addEndGroupingButton();\n            }\n          } else if (showGroupingButton === \"hide\") {\n            console.log(\"Hiding grouping buttons\");\n            WA.ui.actionBar.removeButton(\"startGrouping-btn\");\n            WA.ui.actionBar.removeButton(\"endGrouping-btn\");\n          }\n        },\n      });\n\n      const groupingState = Number(WA.state.grouping);\n      console.log(`Initial groupingState: ${groupingState}`);\n      if (groupingState === 1) {\n        addStartGroupingButton();\n      } else if (groupingState === 0) {\n        addEndGroupingButton();\n      }\n    } else {\n      console.log(\"Player is not admin, skipping grouping button setup\");\n    }\n  });\n\n  WA.onInit().then(() => {\n    console.log(\"Setting up lockAll variable listener\");\n    const handleLockAllChange = () => {\n      console.log(\"handleLockAllChange called\");\n      const lockAll = WA.state.lockAll;\n      console.log(`lockAll state: ${lockAll}`);\n      if (lockAll === \"locked\") {\n        console.log(\"Locking all rooms\");\n        WA.room.hideLayer(\"above_opened\");\n        WA.room.hideLayer(\"rooms_opened\");\n        WA.room.showLayer(\"rooms_closed\");\n      } else if (lockAll === \"open\") {\n        console.log(\"Opening all rooms\");\n        WA.room.showLayer(\"above_opened\");\n        WA.room.showLayer(\"rooms_opened\");\n        WA.room.hideLayer(\"rooms_closed\");\n      }\n    };\n\n    handleLockAllChange();\n\n    WA.state.onVariableChange(\"lockAll\").subscribe(() => {\n      console.log(\"lockAll variable changed\");\n      handleLockAllChange();\n    });\n  });\n\n  WA.onInit().then(() => {\n    console.log(\"Setting up ping event with outline color logic\");\n    WA.event.on(\"ping\").subscribe((value) => {\n      console.log(\"Ping event received:\", value);\n      if (value.data === \"start\") {\n        console.log(\"Ping start - setting up outline\");\n        const playerId = WA.player.uuid;\n        if (playerId) {\n          WA.event.broadcast(\"pong\", playerId);\n          WA.event.on(playerId).subscribe((value) => {\n            console.log(`Received event for player UUID ${playerId}:`, value);\n          });\n        } else {\n          console.error(\"Player UUID is undefined\");\n        }\n      } else if (value.data === \"stop\") {\n        console.log(\"Ping stop - cleaning up\");\n        WA.player.removeOutlineColor();\n        removeGroupButton();\n\n        const endTranslations = {\n          \"en-US\":\n            \"There is no group phase active at the moment. Please regroup with everyone else.\",\n          \"fr-FR\":\n            \"Aucune phase de groupe n'est actuellement active. S'il te pla√Æt, rassemble-toi √† nouveau avec tous les autres.\",\n          \"it-IT\":\n            \"Al momento non √® attiva alcuna fase di gruppo. Si prega di riunirsi di nuovo con tutti gli altri.\",\n          \"pt-BR\":\n            \"Nenhuma fase de grupo est√° ativa no momento. Por favor, re√∫na-se novamente com todos os outros.\",\n          \"es-ES\":\n            \"Actualmente no hay ninguna fase de grupo activa. Por favor, re√∫nanse de nuevo con todos los dem√°s.\",\n          \"zh-CN\": \"ÁõÆÂâçÊ≤°ÊúâÊ¥ªË∑ÉÁöÑÂ∞èÁªÑÈò∂ÊÆµ„ÄÇËØ∑‰∏éÂÖ∂‰ªñ‰∫∫ÈáçÊñ∞ÁªÑÂêà„ÄÇ\",\n          \"ar-SA\":\n            \"ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿ±ÿ≠ŸÑÿ© ŸÖÿ¨ŸÖŸàÿπÿ© ŸÜÿ¥ÿ∑ÿ© ÿ≠ÿßŸÑŸäŸãÿß. Ÿäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ¨ŸÖÿπ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ ŸÖÿπ ÿßŸÑÿ¨ŸÖŸäÿπ.\",\n          \"de-DE\":\n            \"Aktuell ist keine Gruppenphase aktiv. Bitte sammle dich wieder mit allen anderen.\",\n        };\n\n        const endMessage =\n          endTranslations[WA.player.language as keyof typeof endTranslations] ||\n          endTranslations[\"en-US\"];\n        console.log(`Sending end message in language: ${WA.player.language}`);\n        WA.chat.sendChatMessage(endMessage, \"system\");\n      }\n    });\n  });\n});\n"],"names":["bootstrapExtra","scavengerAreas","area","_","questName","objectName","exp","playerStateKey","alreadyCollected","translations","alreadyCollectedTranslations","userLang","message","levelUp","updateTitle","variableName","text","color","newTitle","website","groupCoordinates","addGroupButton","groupName","codeVariable","roomCode","chatTranslations","chatMessage","removeGroupButton","coordinates","result","value","playerId","handleGroupAssignment","roomName","bannerText","addStartGroupingButton","addEndGroupingButton","tag","showGroupingButton","groupingState","handleLockAllChange","lockAll","endTranslations","endMessage"],"mappings":"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"}