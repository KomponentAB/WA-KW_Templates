{"version":3,"file":"Hackathon-main-9d4bea3c.js","sources":["../../src/Hackathon-main.ts"],"sourcesContent":["/// <reference types=\"@workadventure/iframe-api-typings\" />\n\nimport { bootstrapExtra } from \"@workadventure/scripting-api-extra\";\n// Waiting for the API to be ready\nWA.onInit().then(() => {\n    console.log('Scripting API ready');\n    console.log('Player tags: ',WA.player.tags)\n\n\n    // The line below bootstraps the Scripting API Extra library that adds a number of advanced properties/features to WorkAdventure\n    bootstrapExtra().then(() => {\n        console.log('Scripting API Extra ready');\n    }).catch(e => console.error(e));\n\n}).catch(e => console.error(e));\n\n\nconsole.log('Script started successfully');\n\nWA.onInit().then(() => {\n    console.log('Scripting API ready');\n    console.log('Player tags: ',WA.player.tags)\n\n    WA.room.area.onEnter('clock').subscribe(() => {\n        const today = new Date();\n        const time = today.getHours() + \":\" + today.getMinutes();\n        WA.ui.openPopup(\"clockPopup\", \"It's \" + time, []);\n    })\n\n\n\n\nlet helpPopup: any;\nWA.onInit().then(() => {WA.room.area.onEnter('needHelpPopup').subscribe, () => {\nhelpPopup = WA.ui.openPopup('hopupHelp','Do you wanna know more about us? Explore our Hub!',[{\n    label: 'Go to hub',\n    className: 'primary',\n    callback: () => WA.nav.openTab('https://world.cocreation.world')\n}] )} \n\nWA.room.area.onLeave('needHelp').subscribe(() => {\n    helpPopup.close();\n})})\n\n\n\n\n})\n\nasync function updateTitle(variableName: string) {\n    var text: string = WA.state[variableName] as string;\n    console.log(`Text for ${variableName} is configured as ` + text);\n  var color = variableName.split('-')[0];\n    var newTitle = `https://iw6tkif7th7yp5ax2ufzkl3kce0bcuys.lambda-url.us-east-1.on.aws/?text=${encodeURIComponent(text)}&imageType=caption&width=78&height=50&color=${(color)}`;\n    console.log('New img-url of title is ' + newTitle);\n    const website = await WA.room.website.get(variableName.replace('text', 'display'));\n    website.url = newTitle;\n    website.visible = true;\n    console.log(`Title for ${variableName} has been changed to ${website.url}`);\n};\n\nWA.onInit().then(() => {\n    updateTitle('purple-text');\n    updateTitle('blue-text');\n    updateTitle('red-text');\n    updateTitle('green-text');\n    updateTitle('yellow-text');\n    updateTitle('orange-text');\n    updateTitle('black-text');\n});\n\n// Listen for changes to each text variable\n['purple-text', 'blue-text', 'red-text', 'green-text', 'yellow-text', 'orange-text', 'black-text'].forEach(variableName => {\n    WA.state.onVariableChange(variableName).subscribe(() => {\n        console.log(`${variableName} variable changed`);\n        updateTitle(variableName);\n    });\n});\n\n\n\nexport {};\n\n\n\n"],"names":["bootstrapExtra","today","time","helpPopup","updateTitle","variableName","text","color","newTitle","website"],"mappings":"uCAIA,GAAG,OAAA,EAAS,KAAK,IAAM,CACnB,QAAQ,IAAI,qBAAqB,EACjC,QAAQ,IAAI,gBAAgB,GAAG,OAAO,IAAI,EAI3BA,EAAA,EAAE,KAAK,IAAM,CACxB,QAAQ,IAAI,2BAA2B,CAAA,CAC1C,EAAE,SAAW,QAAQ,MAAM,CAAC,CAAC,CAElC,CAAC,EAAE,MAAM,GAAK,QAAQ,MAAM,CAAC,CAAC,EAG9B,QAAQ,IAAI,6BAA6B,EAEzC,GAAG,OAAA,EAAS,KAAK,IAAM,CACnB,QAAQ,IAAI,qBAAqB,EACjC,QAAQ,IAAI,gBAAgB,GAAG,OAAO,IAAI,EAE1C,GAAG,KAAK,KAAK,QAAQ,OAAO,EAAE,UAAU,IAAM,CACpC,MAAAC,MAAY,KACZC,EAAOD,EAAM,SAAA,EAAa,IAAMA,EAAM,aAC5C,GAAG,GAAG,UAAU,aAAc,QAAUC,EAAM,CAAA,CAAE,CAAA,CACnD,EAKD,IAAAC,EACD,GAAA,SAAS,KAAK,IAAM,CAAC,GAAG,KAAK,KAAK,QAAQ,eAAe,EAAE,UAO9D,GAAG,KAAK,KAAK,QAAQ,UAAU,EAAE,UAAU,IAAM,CAC7CA,EAAU,MAAM,CAAA,CACnB,CAAA,CAAE,CAKH,CAAC,EAED,eAAeC,EAAYC,EAAsB,CACzC,IAAAC,EAAe,GAAG,MAAMD,CAAY,EACxC,QAAQ,IAAI,YAAYA,CAAY,qBAAuBC,CAAI,EACjE,IAAIC,EAAQF,EAAa,MAAM,GAAG,EAAE,CAAC,EAC/BG,EAAW,8EAA8E,mBAAmBF,CAAI,CAAC,+CAAgDC,CAAM,GACnK,QAAA,IAAI,2BAA6BC,CAAQ,EAC3C,MAAAC,EAAU,MAAM,GAAG,KAAK,QAAQ,IAAIJ,EAAa,QAAQ,OAAQ,SAAS,CAAC,EACjFI,EAAQ,IAAMD,EACdC,EAAQ,QAAU,GAClB,QAAQ,IAAI,aAAaJ,CAAY,wBAAwBI,EAAQ,GAAG,EAAE,CAC9E,CAEA,GAAG,OAAA,EAAS,KAAK,IAAM,CACnBL,EAAY,aAAa,EACzBA,EAAY,WAAW,EACvBA,EAAY,UAAU,EACtBA,EAAY,YAAY,EACxBA,EAAY,aAAa,EACzBA,EAAY,aAAa,EACzBA,EAAY,YAAY,CAC5B,CAAC,EAGD,CAAC,cAAe,YAAa,WAAY,aAAc,cAAe,cAAe,YAAY,EAAE,QAAwBC,GAAA,CACvH,GAAG,MAAM,iBAAiBA,CAAY,EAAE,UAAU,IAAM,CAC5C,QAAA,IAAI,GAAGA,CAAY,mBAAmB,EAC9CD,EAAYC,CAAY,CAAA,CAC3B,CACL,CAAC"}